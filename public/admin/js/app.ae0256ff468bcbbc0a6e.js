webpackJsonp([1],{"+mEw":function(e,t){},"/HvJ":function(e,t,r){e.exports=r.p+"admin/img/a2.66016bd.png"},"/K5v":function(e,t){},0:function(e,t){},"2w8T":function(e,t){},"5ZLD":function(e,t){},"5eOg":function(e,t){},"8kWl":function(e,t){},ALWo:function(e,t){},CylW:function(e,t){},HYKl:function(e,t){},J6Nf:function(e,t,r){e.exports=r.p+"admin/img/a1.f811ba5.png"},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App",data:function(){return{}}},a,!1,function(e){r("VU4X")},null,null).exports,o=r("/ocq"),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{attrs:{id:"main"}},[i("el-header",{staticClass:"header"},[i("div",{staticClass:"title"},[e._v("PENAUT")]),e._v(" "),i("div",{staticClass:"text"},[i("h3",[e._v("欢迎来到后台管理系统")]),e._v(" "),i("div",{staticClass:"head"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:r("J6Nf"),alt:""}})]),e._v(" "),i("el-button",{staticClass:"name",attrs:{type:"text"},on:{click:e.open6}},[e._v(e._s(e.name))])],1)])]),e._v(" "),i("el-container",[i("el-aside",{staticClass:"aside",attrs:{width:"250px"}},[i("el-col",[i("div",{staticClass:"title"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:r("/HvJ"),alt:""}})]),e._v(" "),i("div",{staticClass:"text"},[e._v("导航菜单")])]),e._v(" "),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[i("el-menu-item",{attrs:{index:"2"}},[i("i",{staticClass:"el-icon-tickets"}),e._v(" "),i("span",{attrs:{slot:"title"},on:{click:e.user},slot:"title"},[e._v("用户信息")])]),e._v(" "),i("el-menu-item",{attrs:{index:"1"}},[i("i",{staticClass:"el-icon-menu"}),e._v(" "),i("span",{attrs:{slot:"title"},on:{click:e.add},slot:"title"},[e._v("产品管理")])]),e._v(" "),i("el-submenu",{attrs:{index:"1-1"}},[i("template",{slot:"title"},[e._v("产品分类")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-1-1"},on:{click:e.relax}},[e._v("轻松好事")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-1-2"},on:{click:e.nut}},[e._v("酥脆坚果")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-1-3"},on:{click:e.travel}},[e._v("旅游专供")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-1-4"},on:{click:e.fruit}},[e._v("果脯好牌")])],2),e._v(" "),i("el-submenu",{attrs:{index:"1-2"}},[i("template",{slot:"title"},[e._v("产品分组")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-2-1"},on:{click:e.news}},[e._v("上新")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-2-2"},on:{click:e.hot}},[e._v("热门")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-2-3"},on:{click:e.discount}},[e._v("折扣")])],2),e._v(" "),i("el-menu-item",{attrs:{index:"3"}},[i("i",{staticClass:"el-icon-document"}),e._v(" "),i("span",{attrs:{slot:"title"},on:{click:e.list},slot:"title"},[e._v("订单管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"4"}},[i("i",{staticClass:"el-icon-setting"}),e._v(" "),i("span",{attrs:{slot:"title"},on:{click:e.passedit},slot:"title"},[e._v("密码修改")])])],1)],1)],1),e._v(" "),i("el-main",[i("router-view")],1)],1)],1)},staticRenderFns:[]};var s=r("VU/8")({data:function(){return{name:""}},methods:{user:function(){this.$router.push("/user")},nut:function(){this.$router.push("/nut")},relax:function(){this.$router.push("/relax")},fruit:function(){this.$router.push("/fruit")},travel:function(){this.$router.push("/travel")},news:function(){this.$router.push("/new")},hot:function(){this.$router.push("/hot")},discount:function(){this.$router.push("/discount")},list:function(){this.$router.push("/order")},passedit:function(){this.$router.push("/manager")},add:function(){this.$router.push("/nutadd")},open6:function(){var e=this;this.$confirm("是否退出本系统","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.$http.get("/api/admin/manager/clear").then(function(t){"edit"==t.body&&e.$router.push("/login")}),e.$message({type:"success",message:"退出成功!",showClose:!0})}).catch(function(){})}},beforeRouteEnter:function(e,t,r){r(function(e){e.$http.get("/api/admin/manager/").then(function(t){"no"==t.body?(e.$message.error("请先登录"),e.$router.push("/login")):e.name=t.body})})}},l,!1,function(e){r("dLun")},"data-v-240baed6",null).exports,u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"page"}},[r("div",{staticClass:"mask"}),e._v(" "),r("div",{attrs:{id:"login"}},[r("div",{staticClass:"user"},[r("label",[e._v("账号：")]),e._v(" "),r("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"请输入内容",clearable:""},model:{value:e.input10,callback:function(t){e.input10=t},expression:"input10"}})],1),e._v(" "),r("div",{staticClass:"pass"},[r("label",[e._v("密码：")]),e._v(" "),r("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"请输入内容",name:"user",clearable:""},model:{value:e.input11,callback:function(t){e.input11=t},expression:"input11"}})],1),e._v(" "),r("div",{attrs:{id:"code"}},[r("label",[e._v("验证码：")]),e._v(" "),r("el-input",{staticClass:"code",attrs:{size:"small",placeholder:"请输入内容",name:"pass",clearable:""},model:{value:e.input12,callback:function(t){e.input12=t},expression:"input12"}}),e._v(" "),r("img",{staticClass:"codepic",attrs:{src:"/api/admin/login/code",alt:"",onclick:"this.src='/api/admin/manager/code?'+Math.random()"}})],1),e._v(" "),r("el-button",{attrs:{size:"mini",type:"submit"},on:{click:e.check}},[e._v("提交")])],1)])},staticRenderFns:[]};var c=r("VU/8")({data:function(){return{input10:"",input11:"",input12:""}},methods:{check:function(){var e=this,t={};t.user=this.input10,t.pass=this.input11,t.code=this.input12,this.$http.post("/api/admin/login/check",t,{headers:{"content-type":"application/json"}}).then(function(t){"ok"!=t.body?e.$message.error(t.body):(e.$message({message:"登陆成功",type:"success",center:!0}),e.$router.push("/"))})}}},u,!1,function(e){r("2w8T")},"data-v-463bd08c",null).exports,m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"昵称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"用户",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.account))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"订单状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.a))]):e._e(),e._v(" "),1==t.row.status?r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.b))]):e._e(),e._v(" "),2==t.row.status?r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.c))]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"查看"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.$index,t.row)}}},[e._v("查看订单详情\n      ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"修改"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.Edit(t.row)}}},[e._v("修改订单状态\n      ")])]}}])})],1)},staticRenderFns:[]};var d=r("VU/8")({data:function(){return{arr:[],name:"",a:"未完成",b:"已发货",c:"已完成"}},created:function(){var e=this;this.$http.get("/api/admin/order/display").then(function(t){var r=t.body;e.$nextTick(function(){var e=this;r.forEach(function(t,i){e.$http.get("/api/admin/order/detail?pid="+t.pid).then(function(t){var a={name:t.body[0].name,account:t.body[0].account,status:r[i].status,id:r[i].id,pid:r[i].pid};e.arr.push(a)})})})})},methods:{handleEdit:function(e,t){var r=t.id,i=t.pid;t.count,this.$router.push("/ordeatil?dingdanid="+r+"&pid="+i)},Edit:function(e){2==e.status?e.status=0:e.status++;var t=e.id,r=e.status;this.$http.get("/api/admin/order/alter?id="+t+"&status="+r).then(function(e){})}}},m,!1,function(e){r("5ZLD")},"data-v-a574bcc0",null).exports,p={data:function(){return{name:"",arr:[]}},created:function(){var e=this,t=this.$route.query.dingdanid,r=this.$route.query.pid;this.$http.get("/api/admin/order/detail?pid="+r).then(function(t){e.name=t.body[0].name}),this.$http.get("/api/admin/order/goods?dingdanid="+t).then(function(t){e.$nextTick(function(){var e=this;t.body.forEach(function(t,r){fetch("/api/admin/order/find?id="+t.goodsid).then(function(e){return e.json()}).then(function(r){var i={name:e.name,price:r[0].price,goods:r[0].name,count:t.count};e.arr.push(i)})})})})}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"order"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("订单管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/order"}}},[e._v("订单列表")]),e._v(" "),r("el-breadcrumb-item",[e._v("订单详情")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"74%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"用户名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"商品",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.goods))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"价格",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.price))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"数量",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])})],1)],1)},staticRenderFns:[]};var g=r("VU/8")(p,f,!1,function(e){r("CylW")},"data-v-66808e9c",null).exports,v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"manager"}},[r("div",{attrs:{id:"title"}},[e._v("修改密码")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"账号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"密码",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.password))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.passedit(t.row.id)}}},[e._v("修改")])]}}])})],1)],1)},staticRenderFns:[]};var h=r("VU/8")({data:function(){return{arr:[]}},created:function(){var e=this;this.$http.get("/api/admin/manager/display").then(function(t){e.arr=t.body})},methods:{passedit:function(e){var t=this;this.$prompt("请输入新密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d{3,8}$/,inputErrorMessage:"密码格式不正确"}).then(function(r){var i=r.value,a={};a.pass=i,a.id=e,t.$http.post("/api/admin/manager/pass",a,{headers:{"content-type":"application/json"}}).then(function(e){1===e.body.affectedRows?(t.$message({type:"success",message:"密码修改成功，请重新登陆"}),t.$router.push("/login")):t.$message({type:"error",message:"修改失败"})})}).catch(function(){t.$message({type:"info",message:"取消输入"})})}}},v,!1,function(e){r("rX4X")},"data-v-7de3f9d4",null).exports,b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"user"}},[t("div",{attrs:{id:"title"}},[this._v("用户信息")]),this._v(" "),t("el-table",{staticStyle:{width:"365px"},attrs:{data:this.arr,"default-sort":{prop:"date",order:"descending"}}},[t("el-table-column",{attrs:{prop:"account",label:"账号",sortable:"",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"name",label:"昵称",sortable:"",width:"180"}})],1)],1)},staticRenderFns:[]};var _=r("VU/8")({data:function(){return{arr:[]}},created:function(){var e=this;this.$http.get("/api/admin/user/display").then(function(t){e.arr=t.body})}},b,!1,function(e){r("wDaX")},"data-v-9f56a840",null).exports,F=r("mvHQ"),y=r.n(F),$=r("woOf"),k=r.n($),x={name:"nutadd",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/add",i,{headers:{"content-type":"application/json"}}).then(function(r){"ok"==r.body?(t.$message({message:"添加成功",type:"success"}),t.$refs[e].resetFields()):t.$message.error("错了哦,请重新添加")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this;this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutadd"}},[r("div",{attrs:{id:"title"}},[e._v("\n    产品新增\n  ")]),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var S=r("VU/8")(x,w,!1,function(e){r("ALWo")},"data-v-64e4c102",null).exports,q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("酥脆坚果")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total , prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var z=r("VU/8")({data:function(){return{arr:[],total:0,currentPage:1,size:7}},created:function(){var e=this;this.$http.get("/api/admin/goods/count?id=2").then(function(t){e.total=t.body[0].total}),this.$http.get("/api/admin/goods/nut?id=2&nub=1&size="+this.size).then(function(t){e.arr=t.body})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut?id=2&nub="+t.currentPage+"&size="+t.size).then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$http.get("/api/admin/goods/nut?id=2&nub="+e+"&size="+this.size).then(function(e){t.arr=e.body})}}},q,!1,function(e){r("sIT9")},"data-v-3830c4e5",null).exports,C={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var R=r("VU/8")(C,E,!1,function(e){r("xH2h")},"data-v-2ba574c0",null).exports,V={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("轻松好事")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total , prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var J=r("VU/8")({data:function(){return{arr:[],total:0,currentPage:1,size:7}},created:function(){var e=this;this.$http.get("/api/admin/goods/count?id=1").then(function(t){e.total=t.body[0].total}),this.$http.get("/api/admin/goods/nut?id=1&nub=1&size="+this.size).then(function(t){e.arr=t.body})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut?id=1&nub=1&size="+t.size).then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$http.get("/api/admin/goods/nut?id=1&nub="+e+"&size="+this.size).then(function(e){t.arr=e.body})}}},V,!1,function(e){r("fqiG")},"data-v-0fbbe70d",null).exports,U={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},O={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var N=r("VU/8")(U,O,!1,function(e){r("vVBh")},"data-v-02278623",null).exports,P={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("果脯好牌")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total , prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var j=r("VU/8")({data:function(){return{arr:[],total:0,currentPage:1,size:7}},created:function(){var e=this;this.$http.get("/api/admin/goods/count?id=4").then(function(t){e.total=t.body[0].total}),this.$http.get("/api/admin/goods/nut?id=4&nub=1&size="+this.size).then(function(t){e.arr=t.body})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut?id=4&nub=1&size="+t.size).then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$http.get("/api/admin/goods/nut?id=4&nub="+e+"&size="+this.size).then(function(e){t.arr=e.body})}}},P,!1,function(e){r("ZtKm")},"data-v-663c02c0",null).exports,D={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},T={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var H=r("VU/8")(D,T,!1,function(e){r("T+Jo")},"data-v-1dbdccb2",null).exports,W={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("旅行专区")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{"current-page":e.currentPage,"page-size":e.size,layout:"total , prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var L=r("VU/8")({data:function(){return{arr:[],total:0,currentPage:1,size:7}},created:function(){var e=this;this.$http.get("/api/admin/goods/count?id=3").then(function(t){e.total=t.body[0].total}),this.$http.get("/api/admin/goods/nut?id=3&nub=1&size="+this.size).then(function(t){e.arr=t.body})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut?id=3&nub=1&size="+t.size).then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$http.get("/api/admin/goods/nut?id=3&nub="+e+"&size="+this.size).then(function(e){t.arr=e.body})}}},W,!1,function(e){r("5eOg")},"data-v-20321fcc",null).exports,X={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},A={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var B=r("VU/8")(X,A,!1,function(e){r("uVVO")},"data-v-c2b528a6",null).exports,K={data:function(){return{arr:[],list:[],currentPage1:1}},created:function(){var e=this;this.$http.get("/api/admin/goods/discount").then(function(t){var r=[];t.body.forEach(function(e){r.push(JSON.parse(e))}),e.arr=r})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut").then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})}}},Z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("折扣专区")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var M=r("VU/8")(K,Z,!1,function(e){r("HYKl")},"data-v-2c771f54",null).exports,G={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},I={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var Y=r("VU/8")(G,I,!1,function(e){r("qcVJ")},"data-v-687737e9",null).exports,Q={data:function(){return{arr:[],list:[],currentPage1:1}},created:function(){var e=this;this.$http.get("/api/admin/goods/hot").then(function(t){var r=[];t.body.forEach(function(e){r.push(JSON.parse(e))}),e.arr=r})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut").then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})}}},ee={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("热门推销")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var te=r("VU/8")(Q,ee,!1,function(e){r("/K5v")},"data-v-03151f75",null).exports,re={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var ae=r("VU/8")(re,ie,!1,function(e){r("+mEw")},"data-v-76b40aab",null).exports,ne={data:function(){return{arr:[],list:[],currentPage1:1}},created:function(){var e=this;this.$http.get("/api/admin/goods/new").then(function(t){var r=[];t.body.forEach(function(e){r.push(JSON.parse(e))}),e.arr=r})},methods:{handleEdit:function(e){this.$router.push("/nutmod?id="+e)},handleDelete:function(e){var t=this;this.$http.get("/api/admin/goods/del?id="+e).then(function(e){1===e.body.affectedRows?(t.$message({message:"删除成功",type:"success"}),t.$http.get("/api/admin/goods/nut").then(function(e){t.arr=e.body})):t.$message.error("系统错误，请稍后再试")})}}},oe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nut"}},[r("div",{attrs:{id:"title"}},[e._v("每周上新")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[r("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),e._v(" "),r("p",[e._v("单价: "+e._s(t.row.price))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-goods"}),e._v(" "),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row.id)}}},[e._v("编辑\n        ")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var le=r("VU/8")(ne,oe,!1,function(e){r("8kWl")},"data-v-3c866af2",null).exports,se={name:"nutmod",data:function(){return{ruleForm:{name:"",price:"",count:"",fid:"",time:"",rid:[],contfree:"",des:"",img:[]},fenlei:[],recom:[],rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入产品数量",trigger:"blur"},{min:1,max:5,message:"长度在 1 到 5 个字符",trigger:"blur"}],fid:[{required:!0,message:"请选择产品分类",trigger:"change"}],time:[{required:!0,message:"请选择日期",trigger:"change"}],rid:[{type:"array",trigger:"change"}],contfree:[{required:!0,message:"请选择是否包邮",trigger:"change"}],des:[{required:!0,message:"请填写产品描述",trigger:"blur"}]}}},methods:{validate:function(e,t){console.log(e,t)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据不全，请补充完整",type:"warning"}),!1;var r=t.$route.query.id,i=k()({},t.ruleForm);i.img=y()(i.img),i.rid=y()(i.rid),i.time=y()(i.time).slice(1,11),t.$http.post("/api/admin/goods/upd?id="+r,i,{headers:{"content-type":"application/json"}}).then(function(e){"ok"==e.body?t.$message({message:"修改成功",type:"success"}):t.$message.error("系统错误")})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){this.ruleForm.img=t},handleSuccess:function(e,t,r){this.ruleForm.img=r}},created:function(){var e=this,t=this.$route.query.id;this.$http.get("/api/admin/goods/nutmod?id="+t).then(function(t){var r=t.body[0];r.rid&&(r.rid=JSON.parse(r.rid),r.img&&(r.img=JSON.parse(r.img))),e.ruleForm=r}),this.$http.get("/api/admin/goods/nutfenlei").then(function(t){e.fenlei=t.body}),this.$http.get("/api/admin/goods/nutrecom").then(function(t){e.recom=t.body})}},ue={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nutmod"}},[r("div",{attrs:{id:"title"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("产品管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/nut"}}},[e._v("酥脆坚果")]),e._v(" "),r("el-breadcrumb-item",[e._v("产品详情修改")])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品单价",prop:"price"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品数量",prop:"count"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.ruleForm.count,callback:function(t){e.$set(e.ruleForm,"count",t)},expression:"ruleForm.count"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分类",prop:"fid"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:e.ruleForm.fid,callback:function(t){e.$set(e.ruleForm,"fid",t)},expression:"ruleForm.fid"}},e._l(e.fenlei,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上架时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"time"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.time,callback:function(t){e.$set(e.ruleForm,"time",t)},expression:"ruleForm.time"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品分组",prop:"rid"}},[r("el-checkbox-group",{model:{value:e.ruleForm.rid,callback:function(t){e.$set(e.ruleForm,"rid",t)},expression:"ruleForm.rid"}},e._l(e.recom,function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id,name:"type"}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否包邮",prop:"contfree"}},[r("el-radio-group",{model:{value:e.ruleForm.contfree,callback:function(t){e.$set(e.ruleForm,"contfree",t)},expression:"ruleForm.contfree"}},[r("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品描述",prop:"des"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.des,callback:function(t){e.$set(e.ruleForm,"des",t)},expression:"ruleForm.des"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片上传",prop:"img"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/admin/goods/upload",multiple:"","on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.ruleForm.img,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var ce=r("VU/8")(se,ue,!1,function(e){r("rjzW")},"data-v-24d8317e",null).exports;i.default.use(o.a);var me=new o.a({routes:[{path:"/",name:"main",component:s,redirect:"/user",children:[{path:"nutadd",component:S},{path:"nut",component:z},{path:"nutmod",component:R},{path:"relax",component:J},{path:"relaxmod",component:N},{path:"fruit",component:j},{path:"fruitmod",component:H},{path:"travel",component:L},{path:"travelmod",component:B},{path:"discount",component:M},{path:"discountmod",component:Y},{path:"hot",component:te},{path:"hotmod",component:ae},{path:"new",component:le},{path:"newmod",component:ce},{path:"manager",component:h},{path:"order",component:d},{path:"ordeatil",component:g},{path:"user",component:_}]},{path:"/login",component:c}]}),de=r("zL8q"),pe=r.n(de),fe=(r("tvR6"),r("8+8L"));i.default.use(fe.a),i.default.http.options.emulateJSON=!0,i.default.use(pe.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:me,components:{App:n},template:"<App/>"})},"T+Jo":function(e,t){},VU4X:function(e,t){},ZtKm:function(e,t){},dLun:function(e,t){},fqiG:function(e,t){},qcVJ:function(e,t){},rX4X:function(e,t){},rjzW:function(e,t){},sIT9:function(e,t){},tvR6:function(e,t){},uVVO:function(e,t){},vVBh:function(e,t){},wDaX:function(e,t){},xH2h:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ae0256ff468bcbbc0a6e.js.map